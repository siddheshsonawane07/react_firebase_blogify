(this["webpackJsonpreact-firebase-blogify"]=this["webpackJsonpreact-firebase-blogify"]||[]).push([[0],{41:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(9),s=c.n(n),a=c(34),r=c.n(a),i=c(11),o=(c(41),c(23)),j=c(12),l=c(31),b=c(0),u=c.n(b),d=c(1),h=c(21),O=c(35),p=c(24),f=Object(O.a)({apiKey:"AIzaSyAfQ_rnz3TvSn2yRyMBl4KS8EiKtXO10Bs",authDomain:"blogify-8783c.firebaseapp.com",projectId:"blogify-8783c",storageBucket:"blogify-8783c.appspot.com",messagingSenderId:"393963407126",appId:"1:393963407126:web:c6c45ec59012db44fcf237"}),x=Object(h.f)(f),g=Object(p.b)(f),m=new p.a,v=c(10);var S=function(e){var t=e.isAuth,c=Object(n.useState)([]),s=Object(i.a)(c,2),a=s[0],r=s[1],o=Object(h.b)(x,"posts"),j=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(h.d)(x,"posts",t),e.next=3,Object(h.c)(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)(o);case 2:t=e.sent,r(t.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j]),Object(v.jsx)("div",{className:"homePage",children:a.map((function(e){return Object(v.jsxs)("div",{className:"post",children:[Object(v.jsxs)("div",{className:"postHeader",children:[Object(v.jsx)("div",{className:"title",children:Object(v.jsxs)("h1",{children:[" ",e.title]})}),Object(v.jsx)("div",{className:"deletePost",children:t&&e.author.id===g.currentUser.uid&&Object(v.jsxs)("button",{onClick:function(){j(e.id)},children:[" ","\ud83d\uddd1"]})})]}),Object(v.jsxs)("div",{className:"postTextContainer",children:[" ",e.postText," "]}),Object(v.jsxs)("h3",{children:["@",e.author.name]})]})}))})};var w=function(e){var t=e.isAuth,c=Object(n.useState)(""),s=Object(i.a)(c,2),a=s[0],r=s[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),b=l[0],O=l[1],p=Object(h.b)(x,"posts"),f=Object(j.f)(),m=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)(p,{title:a,postText:b,author:{name:g.currentUser.displayName,id:g.currentUser.uid}});case 2:f("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t||f("/login")}),[]),Object(v.jsx)("div",{className:"createPostPage",children:Object(v.jsxs)("div",{className:"cpContainer",children:[Object(v.jsx)("h1",{children:"Create A Post"}),Object(v.jsxs)("div",{className:"inputGp",children:[Object(v.jsx)("label",{children:" Title:"}),Object(v.jsx)("input",{placeholder:"Title",onChange:function(e){r(e.target.value)}})]}),Object(v.jsxs)("div",{className:"inputGp",children:[Object(v.jsx)("label",{children:" Post:"}),Object(v.jsx)("textarea",{placeholder:"Post",onChange:function(e){O(e.target.value)}})]}),Object(v.jsx)("button",{onClick:m,children:" Submit Post"})]})})};var y=function(e){var t=e.setIsAuth,c=Object(j.f)();return Object(v.jsxs)("div",{className:"loginPage",children:[Object(v.jsx)("p",{children:"Sign In With Google to Continue"}),Object(v.jsx)("button",{className:"login-with-google-btn",onClick:function(){Object(p.c)(g,m).then((function(e){localStorage.setItem("isAuth",!0),t(!0),c("/")}))},children:"Sign in with Google"})]})};var C=function(){var e=Object(n.useState)(localStorage.getItem("isAuth")),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(v.jsxs)(o.a,{children:[Object(v.jsxs)("nav",{children:[Object(v.jsx)(o.b,{to:"/",children:" Home "}),c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(o.b,{to:"/createpost",children:" Create Post "}),Object(v.jsx)("button",{onClick:function(){Object(p.d)(g).then((function(){localStorage.clear(),s(!1),window.location.pathname="/login"}))},children:" Log Out"})]}):Object(v.jsx)(o.b,{to:"/login",children:" Login "})]}),Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{path:"/",element:Object(v.jsx)(S,{isAuth:c})}),Object(v.jsx)(j.a,{path:"/createpost",element:Object(v.jsx)(w,{isAuth:c})}),Object(v.jsx)(j.a,{path:"/login",element:Object(v.jsx)(y,{setIsAuth:s})})]})]})},N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root")),N()}},[[45,1,2]]]);
//# sourceMappingURL=main.7fb84555.chunk.js.map